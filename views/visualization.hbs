<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Stock Data</title>
  
  <!-- Import Google Fonts -->
  <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;600&display=swap" rel="stylesheet">

  <!-- Styles -->
  <style>
    body {
      background-color: #121212;
      color: #e0e0e0;
      font-family: 'Poppins', sans-serif;
      transition: background-color 0.5s ease;
    }

    .container {
      padding: 20px;
      margin-top: 20px;
    }

    .form-select {
      background-color: #333;
      color: #fff;
      border: 2px solid #1e90ff;
      border-radius: 8px;
      padding: 12px;
      margin: 10px 0;
      transition: all 0.3s ease;
    }

    .form-select:hover, .form-select:focus {
      background-color: #1e1e1e;
      box-shadow: 0 0 10px rgba(30, 144, 255, 0.6);
    }

    .btn-primary {
      background-color: #1e90ff;
      color: white;
      padding: 12px 24px;
      border: none;
      border-radius: 50px;
      font-size: 16px;
      cursor: pointer;
      transition: all 0.3s ease;
      box-shadow: 0 4px 8px rgba(30, 144, 255, 0.4);
    }

    .btn-primary:hover {
      background-color: #0073e6;
      transform: scale(1.05);
    }

    .card {
      background-color: #1e1e1e;
      color: white;
      border-radius: 10px;
      box-shadow: 0 4px 12px rgba(0, 0, 0, 0.3);
      margin: 20px;
      overflow: hidden;
      transform: scale(1);
      transition: transform 0.3s ease;
    }

    .card:hover {
      transform: scale(1.03);
    }

    .card-body {
      display: flex;
      justify-content: space-between;
      padding: 20px;
    }

    .card-body > div {
      flex: 1;
      margin-right: 26px;
      margin-left: 22px;
    }

    .blue-text {
      color: #1e90ff;
    }

    .tradingview-widget-container {
      margin-top: 20px;
      opacity: 0;
      transform: translateY(20px);
      animation: fadeInUp 0.6s ease forwards;
    }

    @keyframes fadeInUp {
      to {
        opacity: 1;
        transform: translateY(0);
      }
    }

    select, button {
      transition: all 0.3s ease;
    }

    select:hover, button:hover {
      transform: scale(1.02);
    }

    select:focus {
      box-shadow: 0 0 10px rgba(30, 144, 255, 0.7);
    }
  </style>
</head>
<body>

  <main>
    <!-- Select Company Dropdown -->
    <section class="py-5 text-center container">
      <div id="company_container">
        <select id="companies" class="form-select" name="companies">
          <option value="BSE:RELIANCE">Reliance</option>
          <option value="BSE:BAJFINANCE">Bajaj Finance</option>
          <option value="BSE:HINDUNILVR">Hindustan Unilever Ltd.</option>
          <option value="BSE:HDFC">HDFC</option>
          <option value="BSE:SBIN">State Bank of India</option>
          <option value="BSE:ITC">ITC Ltd.</option>
          <option value="BSE:MARUTI">Maruti Suzuki India Ltd.</option>
          <option value="BSE:TCS">Tata Consultancy Services Ltd.</option>
          <option value="BSE:INFY">Infosys</option>
          <option value="BSE:HCLTECH">HCL Technologies</option>
          <option value="BSE:HINDALCO">Hindalco Industries Ltd.</option>
          <option value="BSE:ADANITRANS">Adani Transmission Ltd.</option>
          <option value="BSE:ULTRACEMCO">UltraTech Cement Ltd.</option>
          <option value="BSE:NESTLEIND">Nestle India Ltd.</option>
          <option value="BSE:TATASTEEL">TATA Steel</option>
          <option value="BSE:ADANIPORTS">Adani Ports and Special Economic Ltd.</option>
          <option value="BSE:ONGC">Oil and Natural Gas Corporation Ltd.</option>
          <option value="BSE:DABUR">Dabur India Ltd.</option>
          <option value="BSE:BPCL">Bharat Petroleum Corporation Ltd.</option>
          <option value="BSE:YESBANK">Yes Bank</option>
          <option value="BSE:GAIL">GAIL (India) Ltd.</option>
          <option value="BSE:COLPAL">Colgate-Palmolive India Ltd.</option>
        </select>
      </div>

      <br><br>
      <button id="get_data" onclick="getData()" class="btn btn-primary">Get Data</button>
    </section>

    <!-- TradingView Widgets Section -->
    <div class="row align-items-center justify-content-center" style="margin-left: 25px; margin-right:35px;">
      <!-- TradingView Widget BEGIN -->
      <div class="tradingview-widget-container">
        <div class="tradingview-widget-container__widget"></div>
        <div class="tradingview-widget-copyright">
          <a href="https://www.tradingview.com/symbols/{{stockwithoutBSE}}/" rel="noopener" target="_blank">
            <span class="blue-text">{{stockwithoutBSE}} Profile</span>
          </a>
        </div>
        <script type="text/javascript" src="https://s3.tradingview.com/external-embedding/embed-widget-symbol-profile.js" async>
        {
          "symbol": "{{stockwithoutBSE}}",
          "width": 1300,
          "height": 350,
          "colorTheme": "dark",
          "isTransparent": false,
          "locale": "en"
        }
        </script>
      </div>
      <!-- TradingView Widget END -->
    </div>

    <br><br><br>

    <!-- Main content with side by side cards -->
    <div class="card border-0" style="width: 85rem; margin-left: 85px;">
      <div class="card-body">
        <div>
          <!-- TradingView Widget BEGIN -->
          <div class="tradingview-widget-container">
            <div class="tradingview-widget-container__widget"></div>
            <div class="tradingview-widget-copyright">
              <a href="https://www.tradingview.com/symbols/BSE-{{stockwithoutBSE}}/technicals/" rel="noopener" target="_blank">
                <span class="blue-text">Technical Analysis for {{stockwithoutBSE}}</span>
              </a>
            </div>
            <script type="text/javascript" src="https://s3.tradingview.com/external-embedding/embed-widget-technical-analysis.js" async>
            {
              "interval": "1m",
              "width": 600,
              "isTransparent": false,
              "height": 450,
              "symbol": "BSE:{{stockwithoutBSE}}",
              "showIntervalTabs": true,
              "locale": "en",
              "colorTheme": "dark"
            }
            </script>
          </div>
          <!-- TradingView Widget END -->
        </div>

        <div>
          <!-- TradingView Widget BEGIN -->
          <div class="tradingview-widget-container">
            <div class="tradingview-widget-container__widget"></div>
            <div class="tradingview-widget-copyright">
              <a href="https://www.tradingview.com/symbols/BSE-{{stockwithoutBSE}}/" rel="noopener" target="_blank">
                <span class="blue-text">{{stockwithoutBSE}} Quotes</span>
              </a>
            </div>
            <script type="text/javascript" src="https://s3.tradingview.com/external-embedding/embed-widget-mini-symbol-overview.js" async>
            {
              "symbol": "BSE:{{stockwithoutBSE}}",
              "width": 630,
              "height": 450,
              "locale": "en",
              "dateRange": "ALL",
              "colorTheme": "dark",
              "trendLineColor": "rgba(41, 98, 255, 1)",
              "underLineColor": "rgba(41, 98, 255, 0.3)",
              "isTransparent": false,
              "autosize": false,
              "largeChartUrl": ""
            }
            </script>
          </div>
          <!-- TradingView Widget END -->
        </div>
      </div>
    </div>

    <div class="tradingview-widget-container" style="margin-top: 50px;">
      <!-- TradingView chart widget -->
      <div class="tradingview-widget-container" style="margin-top: 50px;">
    <div id="tradingview_c5169"></div>
    <div class="tradingview-widget-copyright">
      <a href="https://www.tradingview.com/symbols/BSE-{{stockwithoutBSE}}/" rel="noopener" target="_blank">
        <span class="blue-text">{{stockwithoutBSE}} Chart</span>
      </a>
    </div>
    <script type="text/javascript" src="https://s3.tradingview.com/tv.js"></script>
    <script type="text/javascript">
      new TradingView.widget({
        "width": 1300,
        "height": 610,
        "symbol": "BSE:{{stockwithoutBSE}}",
        "interval": "D",
        "timezone": "Etc/UTC",
        "theme": "dark",
        "style": "1",
        "locale": "en",
        "toolbar_bg": "#f1f3f6",
        "enable_publishing": false,
        "allow_symbol_change": true,
        "container_id": "tradingview_c5169"
      });
    </script>
  </div>
  <br><br>
  </main>

  <!-- JavaScript -->
  <script type="text/javascript">
    function getData() {
      var company = document.getElementById("companies").value.slice(4);
      window.location.replace("/visual/" + company);
      localStorage.setItem("selectedCompany", company); // Store the selected company
    }

    window.onload = function () {
      var company = localStorage.getItem("selectedCompany");
      if (company) {
        document.getElementById("companies").value = "BSE:" + company; // Set dropdown value after reload
      }
    };
  </script>
</body>
</html>
